{"version":3,"file":"static/js/618.4e166558.chunk.js","mappings":"sSAOMA,E,MAAWC,GAAAA,OAAa,CAC1BC,QAAQ,GAAD,OALM,gCAMbC,OAAQ,CACJC,QAAS,sCAGJC,EAAQ,mCAAG,2GAAOC,EAAP,+BAAY,EAAZ,SACCN,EAASO,IAAI,oBAAqB,CACnDJ,OAAQ,CACJG,KAAAA,KAHY,uBACbE,EADa,EACbA,KADa,kBAMbA,GANa,2CAAH,qDASRC,EAAY,mCAAG,WAAOC,GAAP,yFACHV,EAASO,IAAT,iBAAuBG,IADpB,uBACjBF,EADiB,EACjBA,KADiB,kBAEjBA,GAFiB,2CAAH,sDAKZG,EAAW,mCAAG,WAAOC,GAAP,8FAAcN,EAAd,+BAAmB,EAAnB,SACFN,EAASO,IAAI,gBAAiB,CAC/CJ,OAAQ,CACJS,MAAAA,EACAN,KAAAA,KAJe,uBAChBE,EADgB,EAChBA,KADgB,kBAOhBA,GAPgB,2CAAH,sDAUXK,EAAY,mCAAG,WAAOH,GAAP,yFACHV,EAASO,IAAT,iBAAuBG,EAAvB,aADG,uBACjBF,EADiB,EACjBA,KADiB,kBAEjBA,GAFiB,2CAAH,sDAKZM,EAAc,mCAAG,WAAOJ,GAAP,yFACLV,EAASO,IAAT,iBAAuBG,EAAvB,aADK,uBACnBF,EADmB,EACnBA,KADmB,kBAEnBA,GAFmB,2CAAH,qD,wJCzC3B,EAA+B,mC,SCOhB,SAASO,IAAgB,IAAD,EAErC,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEMC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAER,IAAMC,EAAU,mCAAG,oGAGfV,GAAW,GACXE,EAAS,MAJM,UAKMb,EAAAA,EAAAA,IAAac,GALnB,OAKTQ,EALS,OAMfb,EAASa,GANM,gDASfT,EAAS,EAAD,IATO,yBAafF,GAAW,GAbI,4EAAH,qDAgBhBU,GACD,GAAE,CAACP,IACJ,IAAMS,GAAO,UAAAL,EAASV,aAAT,eAAgBe,OAAhB,UAGPC,EADaN,EAASO,SAASC,SAAS,QACnB,kBAAcZ,GAAd,kBAAqCA,EAArC,SAErBa,EADgBT,EAASO,SAASC,SAAS,WAChB,kBAAcZ,GAAd,kBAAqCA,EAArC,YAC/B,OACC,gCACCJ,IAAW,SAAC,IAAD,IACRE,IAAS,uEACb,mBAAQgB,QATI,kBAAMZ,EAASO,EAAf,EASZ,sBACC,gBAAKM,UAAWC,EAAhB,SACGtB,IACH,iCACE,gBACAuB,IAA2B,OAAtBvB,EAAMwB,YAAuB,kLAA7B,yCAAmPxB,EAAMwB,aAAeC,IAAI,MACjR,4BACA,0BAAKzB,EAAM0B,MAAX,KAAoB1B,EAAM2B,aAA1B,QACA,uCAAe3B,EAAM4B,aAArB,QACA,sCACA,uBAAI5B,EAAM6B,YACV,oCACA,uBAAI7B,EAAM8B,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,KAAH,gBAAiBA,EAAjB,IAAyBC,KAAK,iBAKnD,4BACE,mDACA,SAAC,KAAD,CAAMC,GAAIlB,EAAUhB,MAAO,CAAEe,KAAMA,GAAnC,mBACA,SAAC,KAAD,CAAMmB,GAAIf,EAAanB,MAAO,CAAEe,KAAMA,GAAtC,sBACA,SAAC,KAAD,SAIP,C","sources":["components/API/fetch.jsx","webpack://goit-react-hw-05-movies/./src/components/pages/MovieDetails/MovieDetails.module.scss?eef8","components/pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\n// const MOVIE_ID_URL = `${BASE_URL}/movie/`;\n\nconst instance = axios.create({\n    baseURL: `${BASE_URL}`,\n    params: {\n        api_key: \"04cb754e3fc264242ddc48b1c691d765\"\n    }\n})\nexport const getMovie = async (page=1) => {\n    const {data} = await instance.get(\"/trending/all/day\", {\n        params: {\n            page,\n        }\n    });\n    return data\n};\n\nexport const getMovieById = async (id) => {\n    const {data} = await instance.get(`/movie/${id}`);\n    return data\n};\n\nexport const searchMovie = async (query, page=1) => {\n    const {data} = await instance.get(\"/search/movie\", {\n        params: {\n            query,\n            page,\n        }\n    });\n    return data\n};\n\nexport const getCastsById = async (id) => {\n    const {data} = await instance.get(`/movie/${id}/credits`);\n    return data\n};\n\nexport const getReviewsById = async (id) => {\n    const {data} = await instance.get(`/movie/${id}/reviews`);\n    return data\n};\n\n\n// const KEY = '04cb754e3fc264242ddc48b1c691d765';\n// const BASE_URL = 'https://api.themoviedb.org/3/movie/550';\n// // const LIMIT = 12;\n\n// export const fetch = async (query, page) => {\n//     try {\n//         const response = await axios.get\n//         (`${BASE_URL}?&api_key=${KEY}`);\n// return response.data\n//     }\n//     catch (error) {\n//         console.log(error)\n//     }\n// }","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__Vnrw9\"};","\nimport  { useState, useEffect } from 'react'\n// import { , useSearchParams } from 'react-router-dom';\nimport { useParams, useNavigate, Outlet, Link, useLocation } from 'react-router-dom';\nimport { getMovieById } from 'components/API/fetch';\nimport Loader from 'components/Loader/loader';\nimport scss from './MovieDetails.module.scss'\n\nexport default function MovieDetails() {\n\n  const [state, setState] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\nconst { movieId } = useParams();\nconst navigate = useNavigate();\nconst location = useLocation();\n\nuseEffect(() => {\n  \n  const fetchMovie = async () => {\n   \n    try { \n      setLoading(true)\n      setError(null)\n      const result = await getMovieById(movieId)\n      setState(result)\n      \n    } catch (error) {\n      setError(error)\n    \n    }\n    finally {\n      setLoading(false)\n    }\n  }\n  fetchMovie()\n}, [movieId]);\nconst from = location.state?.from || `/movies`;\nconst goBack = () => navigate(from);\nconst isCastPage = location.pathname.includes(\"cast\")\nconst castLink = isCastPage ? `/movies/${movieId}` : `/movies/${movieId}/cast`;\nconst isReviewsPage = location.pathname.includes(\"reviews\")\nconst reviewsLink = isReviewsPage ? `/movies/${movieId}` : `/movies/${movieId}/reviews`;\n  return (\n   <>\n   {loading && <Loader />}\n      {error && <p>Помилка</p>}\n   <button onClick={goBack}>Go back</button>\n    <div className={scss.movieDetails}>\n      {state && \n    <>\n      <img \n      src={state.poster_path === null ? 'https://us.123rf.com/450wm/urfandadashov/urfandadashov1805/urfandadashov180500070/100957966-photo-not-available-icon-isolated-on-white-background-vector-illustration.jpg?ver=6' : `https://image.tmdb.org/t/p/w500${state.poster_path}`} alt=\"\" />\n      <div>\n      <h1>{state.title} ({state.release_date})</h1>\n      <p>User Score {state.vote_average} </p>\n      <h2>Overview</h2>\n      <p>{state.overview}</p>\n      <h2>Genres</h2>\n      <p>{state.genres.map(({ name }) => `${name}`).join(', ')}</p>\n      </div>\n      \n      </>}\n      </div>\n      <div>\n        <p>Additional information</p>\n        <Link to={castLink} state={{ from: from }}>Cast</Link>\n        <Link to={reviewsLink} state={{ from: from }}>Reviews</Link>\n        <Outlet />\n      </div>\n      </>\n  )\n}\n"],"names":["instance","axios","baseURL","params","api_key","getMovie","page","get","data","getMovieById","id","searchMovie","query","getCastsById","getReviewsById","MovieDetails","useState","state","setState","loading","setLoading","error","setError","movieId","useParams","navigate","useNavigate","location","useLocation","useEffect","fetchMovie","result","from","castLink","pathname","includes","reviewsLink","onClick","className","scss","src","poster_path","alt","title","release_date","vote_average","overview","genres","map","name","join","to"],"sourceRoot":""}